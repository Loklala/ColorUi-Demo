(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-about-editnewphone"],{"1b4b":function(t,e,n){"use strict";var a=n("a485"),i=n.n(a);i.a},"1d73":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".tabpage[data-v-6995f2cb]{height:100%;width:100%}.show[data-v-6995f2cb]{display:block}.hide[data-v-6995f2cb]{display:none}.bg-gradual-blue[data-v-6995f2cb]{background:-webkit-gradient(linear,left top,right top,from(#3396e9),to(#1ab7b9));background:-o-linear-gradient(left,#3396e9,#1ab7b9);background:linear-gradient(90deg,#3396e9,#1ab7b9)}.nav[data-v-6995f2cb]{margin-left:0;margin-top:%?5?%;width:100%}.cu-item[data-v-6995f2cb]{padding:%?0?% %?0?%;margin:%?0?% %?0?%;text-align:center;width:50%}.title[data-v-6995f2cb]{color:#444;text-align:left;width:%?180?%}.btn[data-v-6995f2cb]{background:-webkit-gradient(linear,left top,right top,from(#3396e9),to(#1ab7b9));background:-o-linear-gradient(left,#3396e9,#1ab7b9);background:linear-gradient(90deg,#3396e9,#1ab7b9);margin-top:%?50?%;width:96%;margin-left:2%}",""])},"2efb":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-bar bg-gradual-blue search",style:[{height:t.CustomBar+"px"}]},[n("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.navTo()}}},[n("v-uni-text",{staticClass:"cuIcon-back"}),t._v("返回")],1),n("v-uni-view",{staticClass:"content"},[t._v("新手机号码")]),n("v-uni-view",{staticClass:"action"})],1),n("v-uni-view",{staticClass:"bg-gray",class:"show"},[n("v-uni-view",{staticClass:"cu-list menu",class:[t.menuBorder?"sm-border":"",t.menuCard?"card-menu margin-top":""]},[n("v-uni-view",{staticClass:"cu-form-group l-input"},[n("v-uni-view",{staticClass:"title"},[t._v("手机号：")]),n("v-uni-input",{staticClass:"input",attrs:{type:"number",value:t.tel,placeholder:"输入手机号码"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),n("v-uni-view",{staticClass:"cu-form-group l-input"},[n("v-uni-view",{staticClass:"title"},[t._v("验证码：")]),n("m-input",{staticClass:"m-input",attrs:{placeholder:"输入验证码",type:"number",clearable:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-button",{staticClass:"cu-btn bg-gradual-blue shadow",attrs:{type:"button",disabled:t.disabled},on:{click:function(e){e=t.$handleEvent(e),t.sendcode(e)}}},[t._v(t._s(t.btntxt))])],1)],1),n("v-uni-view",[n("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg btn",attrs:{formType:"submit",type:"primary"},on:{click:function(e){e=t.$handleEvent(e),t.changerDeposit()}}},[t._v("提交")])],1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"6a72":function(t,e,n){"use strict";n.r(e);var a=n("2efb"),i=n("943b");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("1b4b");var s=n("2877"),c=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"6995f2cb",null);e["default"]=c.exports},"943b":function(t,e,n){"use strict";n.r(e);var a=n("eb3b"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},a485:function(t,e,n){var a=n("1d73");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("d9fb6b3e",a,!0,{sourceMap:!1,shadowMode:!1})},eb3b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("803e")),i=o(n("1a64"));function o(t){return t&&t.__esModule?t:{default:t}}var s={components:{mInput:i.default},data:function(){return{TabCur:0,scrollLeft:0,btntxt:"获取验证码",tel:"",code:"",token:"",StatusBar:this.StatusBar,CustomBar:this.CustomBar,menuBorder:!1,menuArrow:!1,menuCard:!1,disabled:!1,isdisabled:!0,last_tel:""}},onLoad:function(){var t=this;if(uni.getStorageSync("agentInfo")){var e=JSON.parse(this.utils.decrypt(uni.getStorageSync("agentInfo"),"abcdefgabcdefg12"));e&&(this.token=e.token)}var n=uni.getStorageSync("last_tel");n&&(this.last_tel=n,console.log(n)),uni.request({url:a.default.websiteUrl+"/agent/agent/ajax-new-phone-time",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",dataType:"json",cache:!1,data:{token:this.token,last_tel:this.last_tel,sms_type:5},success:function(e){var n=e,a=n.data;200==a.code?(t.time=60-parseInt(a.data),t.disabled=!0,t.timer()):400==a.code?(t.time=0,t.disabled=!1):-200==a.code&&uni.showModal({showCancel:!1,content:"用户信息已失效，请重新登陆",success:function(t){t.confirm&&uni.redirectTo({url:"../login/login?lout=1"})}})},fail:function(){uni.showToast({icon:"none",title:"网络异常,请稍后重试"})},complete:function(){}})},methods:{navTo:function(){uni.redirectTo({url:"editphone"})},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=80*(t.currentTarget.dataset.id-1)},changerDeposit:function(){var t=this;""!=this.code?""!=this.code?(this.last_tel=uni.getStorageSync("last_tel"),uni.request({url:a.default.websiteUrl+"/agent/agent/ajax-edit-new-phone",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",dataType:"json",cache:!1,data:{token:this.token,code:this.code,tel:this.tel,sms_type:5},success:function(e){t.list=e;var n=t.list.data;console.log(n),200==n.code?(uni.showToast({icon:"none",title:n.data}),uni.showModal({showCancel:!1,content:"手机号码已修改，请重新登陆",success:function(t){t.confirm&&uni.redirectTo({url:"../login/login?lout=1"})}})):400==n.code?uni.showToast({icon:"none",title:n.data}):-200==n.code&&uni.showModal({showCancel:!1,content:"用户信息已失效，请重新登陆",success:function(t){t.confirm&&uni.redirectTo({url:"../login/login?lout=1"})}})},fail:function(){uni.showToast({icon:"none",title:"网络异常,请稍后重试"})},complete:function(){}})):uni.showToast({icon:"none",title:"请输入验证码"}):uni.showToast({icon:"none",title:"请输入新手机号"})},sendcode:function(){var t=this;""!=this.tel?uni.request({url:a.default.websiteUrl+"/agent/agent/ajax-new-phone-code",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",dataType:"json",cache:!1,data:{token:this.token,tel:this.tel,sms_type:5},success:function(e){t.list=e;var n=t.list.data,a=n.data;if(200==n.code){t.time=60,t.disabled=!0,uni.showToast({icon:"none",title:a},2e3);uni.setStorageSync("last_tel",t.tel),t.timer()}400==n.code&&(uni.showToast({icon:"none",title:a},2e3),t.time=0,setTimeout(t.timer,1e3),t.disabled=!1)},fail:function(){uni.showToast({icon:"none",title:"网络异常,请稍后重试"})},complete:function(){}}):uni.showToast({icon:"none",title:"新手机号码不能为空"},2e3)},timer:function(){this.time>0?(this.time--,this.btntxt=this.time+"s后获取",setTimeout(this.timer,1e3)):(this.time=0,this.btntxt="获取验证码",this.disabled=!1)}}};e.default=s}}]);